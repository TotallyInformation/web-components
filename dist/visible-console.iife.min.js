(()=>{var x=class C extends HTMLElement{static baseVersion="2024-09-29";static _iCount=0;uib=!!window.uibuilder;$;$$;connected=!1;name;opts={};get version(){return`${this.constructor.version} (Base: ${this.constructor.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.hasAttribute("inherit-style"))return;let t=this.getAttribute("inherit-style");t||(t="./index.css");let o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",t),this.shadowRoot.appendChild(o),console.info(`[${this.localName}] Inherit-style requested. Loading: "${t}"`)}config(t){return t&&(this.opts=C.deepAssign(this.opts,t)),this.opts}static deepAssign(t,...o){for(let s of o)for(let i in s){let a=s[i],c=t[i];if(Object(a)==a&&Object(c)===c){t[i]=C.deepAssign(c,a);continue}t[i]=s[i]}return t}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(t){}_event(t,o){this.dispatchEvent(new CustomEvent(`${this.localName}:${t}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:o}}))}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}},k=x;var E=document.createElement("template");E.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }

        .wrapper {
            display: grid;
            grid-template-columns: minmax(6ch, 1fr) minmax(75%, 5fr);
            column-gap: 1rem;
            row-gap: .3rem;
            align-content: start;

            height: 22em;
            overflow: auto;
            resize: vertical;

            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            font-size: smaller;
            /* white-space: pre; */
            background-color:black;
            border: 1px solid silver;
        }

        .meta {
            /* grid-area: meta; */
            border-right: 1px solid silver;
            font-size: larger;
            /* background-color:black; */
            /* white-space: pre; */
        }
        
        .data {
            /* grid-area: content; */
            /* color:white; */
            /* display:block; */
            /* background-color:black; */
            /* padding:5px 10px; */
            /* font-family: Consolas, "ui-monospace", "Lucida Console", monospace; */
            /* font-size: smaller; */
            /* white-space: pre; */
            /* width: 99%; */
            /* height: 22em; */
            /* overflow: auto; */
            /* resize: both; */
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}

        .log {color: hsl(120 100 77);}
        .info {color: hsl(212 100 77);}
        .warn {color: orange;}
        .error {color: red;}
        .data-info {background-color: hsl(192 100 42 /0.3);}
        .data-warn {background-color: hsl(39 100 42 /0.3);}
        .data-error {background-color: hsl(0 100 42 /0.3);}

    </style>
    <div class="wrapper"></div>
`;var y=class extends k{static version="2024-09-29";static get observedAttributes(){return["inherit-style","name"]}opts={};colors={log:"green",error:"red",warn:"orange"};bgColors={info:"hsl(92, 100, 50, 0.3)",warn:"hsl(39, 100, 50, 0.3)",error:"hsl(0, 100, 50, 0.3)"};icons={log:"> ",info:"\u2139\uFE0F ",debug:"\u{1FAB2} ",trace:"\u{1F453} ",warn:"\u26A0\uFE0F ",error:"\u26D4 "};constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(E.content.cloneNode(!0)),this.createShadowSelectors(),this.wrapper=this.shadowRoot.querySelector(".wrapper"),this.originalConsole={...console}}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.redirectConsole(),this._event("connected"),this._event("ready")}disconnectedCallback(){this._event("disconnected")}attributeChangedCallback(t,o,s){o!==s&&(this[t]=s,this._event("attribChanged",{attribute:t,newVal:s,oldVal:o}))}redirectConsole(){Object.keys(this.icons).forEach(t=>{console[t]=(...o)=>{this.originalConsole[t].apply(console[t],o),this.newLog(t,o)}})}newLog(t,o){let s=this.icons?.[t]||"",i=document.createElement("div");i.className=`meta ${t}`,i.innerHTML=`${s} ${t}`,this.wrapper?.appendChild(i);let a=o.map(p=>this.createHTMLVisualizer(p)),c=document.createElement("div");c.className=`data data-${t}`,a.forEach(p=>{c.appendChild(p)}),this.wrapper?.appendChild(c),this.wrapper.scrollTop=this.wrapper?.scrollHeight}checkType(t){return t===null?"null":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t}createHTMLVisualizer(t){let o=document.createElement("div"),s=(e,n=0)=>{let r=document.createElement("div");return r.style.marginLeft=`${n*10}px`,n>10?p(e):Array.isArray(e)?r.appendChild(i("Array",e,n,"[","]")):e&&typeof e=="object"?r.appendChild(i("Object",e,n,"{","}")):r.appendChild(p(e)),r},i=(e,n,r,u,b)=>{let m=document.createElement("div"),h=document.createElement("span"),d=document.createElement("div"),f=document.createElement("span");f.textContent="\u25B6",h.textContent=` ${u}${a(n)}${b}`,h.style.cursor="pointer",f.style.cursor="pointer",f.addEventListener("click",()=>{let l=d.style.display==="none";d.style.display=l?"block":"none",f.textContent=l?"\u25BC":"\u25B6",h.textContent=l?` ${u}`:` ${u}${a(n)}${b}`}),h.addEventListener("click",()=>{let l=d.style.display==="none";d.style.display=l?"block":"none",f.textContent=l?"\u25BC":"\u25B6",h.textContent=l?` ${u}`:` ${u}${a(n)}${b}`}),d.style.display="none",d.style.marginLeft="20px";for(let l in n){let g=document.createElement("div");g.style.marginLeft=`${r*10}px`;let $=document.createElement("span");$.style.color="orange",$.textContent=`${l}: `;let A=s(n[l],r++);g.appendChild($),g.appendChild(A),d.appendChild(g)}let w=document.createElement("span");return w.textContent=` ${b}`,w.style.color="lightblue",m.appendChild(f),m.appendChild(h),m.appendChild(d),m.appendChild(w),m},a=e=>{let n="";return Array.isArray(e)?n=e.map(r=>c(r)).join(", "):typeof e=="object"&&(n=Object.keys(e).map(r=>`${r}: ${c(e[r])}`).join(", ")),n.length>30&&(n=n.slice(0,30)+"..."),n},c=e=>{if(typeof e=="string")return`"${e}"`;if(typeof e=="number")return e;if(typeof e=="boolean")return e;if(e===null)return"null";if(typeof e>"u")return"undefined";if(typeof e=="bigint")return`${e}n`;if(typeof e=="function")return"[Function]";if(Array.isArray(e))return"[Array]";if(typeof e=="object")return"[Object]"},p=e=>{let n=document.createElement("span");return typeof e=="string"?(n.style.color="lightgreen",n.textContent=`"${e}"`):typeof e=="number"?(n.style.color="lightcoral",n.textContent=e):typeof e=="boolean"?(n.style.color="lightyellow",n.textContent=e):e===null?(n.style.color="gray",n.textContent="null"):typeof e>"u"?(n.style.color="gray",n.textContent="undefined"):typeof e=="bigint"?(n.style.color="lightcoral",n.textContent=`${e}n`):typeof e=="function"&&(n.style.color="violet",n.textContent="[Function]"),n};return o.appendChild(s(t)),o}},S=y;window.VisibleConsole=y;customElements.define("visible-console",y);})();
//# sourceMappingURL=visible-console.iife.min.js.map
