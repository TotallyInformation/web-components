(()=>{var x=class C extends HTMLElement{static baseVersion="2025-06-03";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}config(e){return e&&(this.opts=C.deepAssign(this.opts,e)),this.opts}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}static deepAssign(e,...n){for(let i of n)for(let r in i){let c=i[r],s=e[r];if(Object(c)==c&&Object(s)===s){e[r]=C.deepAssign(s,c);continue}e[r]=i[r]}return e}async doInheritStyles(){if(!this.shadowRoot||!this.hasAttribute("inherit-style"))return;let e=this.getAttribute("inherit-style");e||(e="./index.css");let n=document.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),this.shadowRoot.appendChild(n),console.info(`[${this.localName}] Inherit-style requested. Loading: "${e}"`)}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}prependStylesheet(e,n=0){if(!e)throw new Error(`[${this.localName}] cssText must be provided`);let i=this._findExistingStylesheet();if(i)return i;let r=document.createElement("style");return r.textContent=e,r.setAttribute("data-component",this.localName),r.setAttribute("data-order",n.toString()),this._prependToDocumentHead(r,n),r}uibSend(e,n){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${e}`,payload:n,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,e,n))}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_construct(e,n){e&&(n||(n={mode:"open",delegatesFocus:!0}),this.attachShadow(n).append(e),this.createShadowSelectors())}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_event(e,n){this.dispatchEvent(new CustomEvent(`${this.localName}:${e}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:n}}))}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}_uibMsgHandler(e){if(typeof e.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,e);return}Object.keys(e.payload).forEach(n=>{n.startsWith("_")||(this[n]=e.payload[n])})}_findExistingStylesheet(){return document.head.querySelector(`style[data-component="${this.localName}"]`)}_prependToDocumentHead(e,n){let i=document.head,r=Array.from(i.querySelectorAll("style[data-component]"));if(r.length===0){let s=i.firstChild;s?i.insertBefore(e,s):i.appendChild(e);return}let c=null;for(let s of r){let a=parseInt(s.getAttribute("data-order")??"0",10);if(n<a){c=s;break}}if(c)i.insertBefore(e,c);else{let a=r[r.length-1].nextSibling;a?i.insertBefore(e,a):i.appendChild(e)}}},k=x;var E=document.createElement("template");E.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }

        .wrapper {
            display: grid;
            grid-template-columns: minmax(6ch, 1fr) minmax(75%, 5fr);
            column-gap: 1rem;
            row-gap: .3rem;
            align-content: start;

            height: 22em;
            overflow: auto;
            resize: vertical;

            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            font-size: smaller;
            /* white-space: pre; */
            background-color:black;
            border: 1px solid silver;
        }

        .meta {
            /* grid-area: meta; */
            border-right: 1px solid silver;
            font-size: larger;
            /* background-color:black; */
            /* white-space: pre; */
        }
        
        .data {
            /* grid-area: content; */
            /* color:white; */
            /* display:block; */
            /* background-color:black; */
            /* padding:5px 10px; */
            /* font-family: Consolas, "ui-monospace", "Lucida Console", monospace; */
            /* font-size: smaller; */
            /* white-space: pre; */
            /* width: 99%; */
            /* height: 22em; */
            /* overflow: auto; */
            /* resize: both; */
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}

        .log {color: hsl(120 100 77);}
        .info {color: hsl(212 100 77);}
        .warn {color: orange;}
        .error {color: red;}
        .data-info {background-color: hsl(192 100 42 /0.3);}
        .data-warn {background-color: hsl(39 100 42 /0.3);}
        .data-error {background-color: hsl(0 100 42 /0.3);}

    </style>
    <div class="wrapper"></div>
`;var y=class extends k{static componentVersion="2025-02-25";static get observedAttributes(){return["inherit-style","name"]}nativeConsole={...console};opts={};colors={log:"green",error:"red",warn:"orange"};bgColors={info:"hsl(92, 100, 50, 0.3)",warn:"hsl(39, 100, 50, 0.3)",error:"hsl(0, 100, 50, 0.3)"};icons={log:"> ",info:"\u2139\uFE0F ",debug:"\u{1FAB2} ",trace:"\u{1F453} ",warn:"\u26A0\uFE0F ",error:"\u26D4 "};constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(E.content.cloneNode(!0)),this.createShadowSelectors(),this.wrapper=this.shadowRoot.querySelector(".wrapper")}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.redirectConsole(),this._event("connected"),this._event("ready")}disconnectedCallback(){this._event("disconnected")}attributeChangedCallback(e,n,i){n!==i&&(this[e]=i,this._event("attribChanged",{attribute:e,newVal:i,oldVal:n}))}redirectConsole(){Object.keys(this.icons).forEach(e=>{console[e]=(...n)=>{this.nativeConsole[e].apply(console[e],n),this.newLog(e,n)}})}newLog(e,n){let i=this.icons?.[e]||"",r=document.createElement("div");r.className=`meta ${e}`,r.innerHTML=`${i} ${e}`,this.wrapper?.appendChild(r);let c=n.map(a=>this.createHTMLVisualizer(a)),s=document.createElement("div");s.className=`data data-${e}`,c.forEach(a=>{s.appendChild(a)}),this.wrapper?.appendChild(s),this.wrapper.scrollTop=this.wrapper?.scrollHeight}checkType(e){return e===null?"null":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e}createHTMLVisualizer(e){let n=document.createElement("div"),i=(t,o=0)=>{let l=document.createElement("div");return l.style.marginLeft=`${o*10}px`,o>10?a(t):Array.isArray(t)?l.appendChild(r("Array",t,o,"[","]")):t&&typeof t=="object"?l.appendChild(r("Object",t,o,"{","}")):l.appendChild(a(t)),l},r=(t,o,l,f,b)=>{let m=document.createElement("div"),p=document.createElement("span"),h=document.createElement("div"),u=document.createElement("span");u.textContent="\u25B6",p.textContent=` ${f}${c(o)}${b}`,p.style.cursor="pointer",u.style.cursor="pointer",u.addEventListener("click",()=>{let d=h.style.display==="none";h.style.display=d?"block":"none",u.textContent=d?"\u25BC":"\u25B6",p.textContent=d?` ${f}`:` ${f}${c(o)}${b}`}),p.addEventListener("click",()=>{let d=h.style.display==="none";h.style.display=d?"block":"none",u.textContent=d?"\u25BC":"\u25B6",p.textContent=d?` ${f}`:` ${f}${c(o)}${b}`}),h.style.display="none",h.style.marginLeft="20px";for(let d in o){let g=document.createElement("div");g.style.marginLeft=`${l*10}px`;let $=document.createElement("span");$.style.color="orange",$.textContent=`${d}: `;let A=i(o[d],l++);g.appendChild($),g.appendChild(A),h.appendChild(g)}let w=document.createElement("span");return w.textContent=` ${b}`,w.style.color="lightblue",m.appendChild(u),m.appendChild(p),m.appendChild(h),m.appendChild(w),m},c=t=>{let o="";return Array.isArray(t)?o=t.map(l=>s(l)).join(", "):typeof t=="object"&&(o=Object.keys(t).map(l=>`${l}: ${s(t[l])}`).join(", ")),o.length>30&&(o=o.slice(0,30)+"..."),o},s=t=>{if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return t;if(typeof t=="boolean")return t;if(t===null)return"null";if(typeof t>"u")return"undefined";if(typeof t=="bigint")return`${t}n`;if(typeof t=="function")return"[Function]";if(Array.isArray(t))return"[Array]";if(typeof t=="object")return"[Object]"},a=t=>{let o=document.createElement("span");return typeof t=="string"?(o.style.color="lightgreen",o.textContent=`"${t}"`):typeof t=="number"?(o.style.color="lightcoral",o.textContent=t):typeof t=="boolean"?(o.style.color="lightyellow",o.textContent=t):t===null?(o.style.color="gray",o.textContent="null"):typeof t>"u"?(o.style.color="gray",o.textContent="undefined"):typeof t=="bigint"?(o.style.color="lightcoral",o.textContent=`${t}n`):typeof t=="function"&&(o.style.color="violet",o.textContent="[Function]"),o};return n.appendChild(i(e)),n}},j=y;window.VisibleConsole=y;customElements.define("visible-console",y);})();
//# sourceMappingURL=visible-console.iife.min.js.map
