(()=>{var x=class C extends HTMLElement{static baseVersion="2024-09-22";uib=!!window.uibuilder;$;$$;static _iCount=0;opts={};get version(){return`${this.constructor.version} (Base: ${this.constructor.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.hasAttribute("inherit-style"))return;let t=this.getAttribute("inherit-style");t||(t="./index.css");let n=document.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),this.shadowRoot.appendChild(n),console.info(`[${this.localName}] Inherit-style requested. Loading: "${t}"`)}config(t){return t&&(this.opts=C.deepAssign(this.opts,t)),this.opts}static deepAssign(t,...n){for(let s of n)for(let i in s){let a=s[i],l=t[i];if(Object(a)==a&&Object(l)===l){t[i]=C.deepAssign(l,a);continue}t[i]=s[i]}return t}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(t){}},E=x;var k=document.createElement("template");k.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }

        .wrapper {
            display: grid;
            grid-template-columns: minmax(6ch, 1fr) minmax(75%, 5fr);
            column-gap: 1rem;
            row-gap: .3rem;
            align-content: start;

            height: 22em;
            overflow: auto;
            resize: vertical;

            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            font-size: smaller;
            /* white-space: pre; */
            background-color:black;
            border: 1px solid silver;
        }

        .meta {
            /* grid-area: meta; */
            border-right: 1px solid silver;
            font-size: larger;
            /* background-color:black; */
            /* white-space: pre; */
        }
        
        .data {
            /* grid-area: content; */
            /* color:white; */
            /* display:block; */
            /* background-color:black; */
            /* padding:5px 10px; */
            /* font-family: Consolas, "ui-monospace", "Lucida Console", monospace; */
            /* font-size: smaller; */
            /* white-space: pre; */
            /* width: 99%; */
            /* height: 22em; */
            /* overflow: auto; */
            /* resize: both; */
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}

        .log {color: hsl(120 100 77);}
        .info {color: hsl(212 100 77);}
        .warn {color: orange;}
        .error {color: red;}
        .data-info {background-color: hsl(192 100 42 /0.3);}
        .data-warn {background-color: hsl(39 100 42 /0.3);}
        .data-error {background-color: hsl(0 100 42 /0.3);}

    </style>
    <div class="wrapper"></div>
`;var y=class extends E{static version="2024-09-21";opts={};static get observedAttributes(){return["inherit-style"]}colors={log:"green",error:"red",warn:"orange"};bgColors={info:"hsl(92, 100, 50, 0.3)",warn:"hsl(39, 100, 50, 0.3)",error:"hsl(0, 100, 50, 0.3)"};icons={log:"> ",info:"\u2139\uFE0F ",debug:"\u{1FAB2} ",trace:"\u{1F453} ",warn:"\u26A0\uFE0F ",error:"\u26D4 "};constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(k.content.cloneNode(!0)),this.createShadowSelectors(),this.wrapper=this.shadowRoot.querySelector(".wrapper"),this.originalConsole={...console}}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.redirectConsole(),this.dispatchEvent(new CustomEvent(`${this.localName}:connected`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}disconnectedCallback(){this.dispatchEvent(new CustomEvent(`${this.localName}:disconnected`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}attributeChangedCallback(t,n,s){n!==s&&(this[t]=s,this.dispatchEvent(new CustomEvent(`${this.localName}:attribChanged`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,attribute:t,newVal:s,oldVal:n}})))}redirectConsole(){Object.keys(this.icons).forEach(t=>{console[t]=(...n)=>{this.originalConsole[t].apply(console[t],n),this.newLog(t,n)}})}newLog(t,n){let s=this.icons?.[t]||"",i=document.createElement("div");i.className=`meta ${t}`,i.innerHTML=`${s} ${t}`,this.wrapper?.appendChild(i);let a=n.map(p=>this.createHTMLVisualizer(p)),l=document.createElement("div");l.className=`data data-${t}`,a.forEach(p=>{l.appendChild(p)}),this.wrapper?.appendChild(l),this.wrapper.scrollTop=this.wrapper?.scrollHeight}checkType(t){return t===null?"null":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t}createHTMLVisualizer(t){let n=document.createElement("div"),s=(e,o=0)=>{let r=document.createElement("div");return r.style.marginLeft=`${o*10}px`,o>10?p(e):Array.isArray(e)?r.appendChild(i("Array",e,o,"[","]")):e&&typeof e=="object"?r.appendChild(i("Object",e,o,"{","}")):r.appendChild(p(e)),r},i=(e,o,r,u,b)=>{let m=document.createElement("div"),h=document.createElement("span"),d=document.createElement("div"),f=document.createElement("span");f.textContent="\u25B6",h.textContent=` ${u}${a(o)}${b}`,h.style.cursor="pointer",f.style.cursor="pointer",f.addEventListener("click",()=>{let c=d.style.display==="none";d.style.display=c?"block":"none",f.textContent=c?"\u25BC":"\u25B6",h.textContent=c?` ${u}`:` ${u}${a(o)}${b}`}),h.addEventListener("click",()=>{let c=d.style.display==="none";d.style.display=c?"block":"none",f.textContent=c?"\u25BC":"\u25B6",h.textContent=c?` ${u}`:` ${u}${a(o)}${b}`}),d.style.display="none",d.style.marginLeft="20px";for(let c in o){let g=document.createElement("div");g.style.marginLeft=`${r*10}px`;let $=document.createElement("span");$.style.color="orange",$.textContent=`${c}: `;let A=s(o[c],r++);g.appendChild($),g.appendChild(A),d.appendChild(g)}let w=document.createElement("span");return w.textContent=` ${b}`,w.style.color="lightblue",m.appendChild(f),m.appendChild(h),m.appendChild(d),m.appendChild(w),m},a=e=>{let o="";return Array.isArray(e)?o=e.map(r=>l(r)).join(", "):typeof e=="object"&&(o=Object.keys(e).map(r=>`${r}: ${l(e[r])}`).join(", ")),o.length>30&&(o=o.slice(0,30)+"..."),o},l=e=>{if(typeof e=="string")return`"${e}"`;if(typeof e=="number")return e;if(typeof e=="boolean")return e;if(e===null)return"null";if(typeof e>"u")return"undefined";if(typeof e=="bigint")return`${e}n`;if(typeof e=="function")return"[Function]";if(Array.isArray(e))return"[Array]";if(typeof e=="object")return"[Object]"},p=e=>{let o=document.createElement("span");return typeof e=="string"?(o.style.color="lightgreen",o.textContent=`"${e}"`):typeof e=="number"?(o.style.color="lightcoral",o.textContent=e):typeof e=="boolean"?(o.style.color="lightyellow",o.textContent=e):e===null?(o.style.color="gray",o.textContent="null"):typeof e>"u"?(o.style.color="gray",o.textContent="undefined"):typeof e=="bigint"?(o.style.color="lightcoral",o.textContent=`${e}n`):typeof e=="function"&&(o.style.color="violet",o.textContent="[Function]"),o};return n.appendChild(s(t)),n}},S=y;window.VisibleConsole=y;customElements.define("visible-console",y);})();
//# sourceMappingURL=visible-console.iife.min.js.map
