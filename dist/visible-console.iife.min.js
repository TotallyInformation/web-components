(()=>{var x=class C extends HTMLElement{static baseVersion="2025-02-25";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.hasAttribute("inherit-style"))return;let e=this.getAttribute("inherit-style");e||(e="./index.css");let o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),this.shadowRoot.appendChild(o),console.info(`[${this.localName}] Inherit-style requested. Loading: "${e}"`)}config(e){return e&&(this.opts=C.deepAssign(this.opts,e)),this.opts}static deepAssign(e,...o){for(let r of o)for(let s in r){let a=r[s],c=e[s];if(Object(a)==a&&Object(c)===c){e[s]=C.deepAssign(c,a);continue}e[s]=r[s]}return e}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(e){if(typeof e.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,e);return}Object.keys(e.payload).forEach(o=>{o.startsWith("_")||(this[o]=e.payload[o])})}_event(e,o){this.dispatchEvent(new CustomEvent(`${this.localName}:${e}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:o}}))}uibSend(e,o){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${e}`,payload:o,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,e,o))}_construct(e,o){o||(o={mode:"open",delegatesFocus:!0}),this.attachShadow(o).append(e),this.createShadowSelectors()}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}},k=x;var E=document.createElement("template");E.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }

        .wrapper {
            display: grid;
            grid-template-columns: minmax(6ch, 1fr) minmax(75%, 5fr);
            column-gap: 1rem;
            row-gap: .3rem;
            align-content: start;

            height: 22em;
            overflow: auto;
            resize: vertical;

            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            font-size: smaller;
            /* white-space: pre; */
            background-color:black;
            border: 1px solid silver;
        }

        .meta {
            /* grid-area: meta; */
            border-right: 1px solid silver;
            font-size: larger;
            /* background-color:black; */
            /* white-space: pre; */
        }
        
        .data {
            /* grid-area: content; */
            /* color:white; */
            /* display:block; */
            /* background-color:black; */
            /* padding:5px 10px; */
            /* font-family: Consolas, "ui-monospace", "Lucida Console", monospace; */
            /* font-size: smaller; */
            /* white-space: pre; */
            /* width: 99%; */
            /* height: 22em; */
            /* overflow: auto; */
            /* resize: both; */
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}

        .log {color: hsl(120 100 77);}
        .info {color: hsl(212 100 77);}
        .warn {color: orange;}
        .error {color: red;}
        .data-info {background-color: hsl(192 100 42 /0.3);}
        .data-warn {background-color: hsl(39 100 42 /0.3);}
        .data-error {background-color: hsl(0 100 42 /0.3);}

    </style>
    <div class="wrapper"></div>
`;var y=class extends k{static componentVersion="2025-02-25";static get observedAttributes(){return["inherit-style","name"]}nativeConsole={...console};opts={};colors={log:"green",error:"red",warn:"orange"};bgColors={info:"hsl(92, 100, 50, 0.3)",warn:"hsl(39, 100, 50, 0.3)",error:"hsl(0, 100, 50, 0.3)"};icons={log:"> ",info:"\u2139\uFE0F ",debug:"\u{1FAB2} ",trace:"\u{1F453} ",warn:"\u26A0\uFE0F ",error:"\u26D4 "};constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(E.content.cloneNode(!0)),this.createShadowSelectors(),this.wrapper=this.shadowRoot.querySelector(".wrapper")}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.redirectConsole(),this._event("connected"),this._event("ready")}disconnectedCallback(){this._event("disconnected")}attributeChangedCallback(e,o,r){o!==r&&(this[e]=r,this._event("attribChanged",{attribute:e,newVal:r,oldVal:o}))}redirectConsole(){Object.keys(this.icons).forEach(e=>{console[e]=(...o)=>{this.nativeConsole[e].apply(console[e],o),this.newLog(e,o)}})}newLog(e,o){let r=this.icons?.[e]||"",s=document.createElement("div");s.className=`meta ${e}`,s.innerHTML=`${r} ${e}`,this.wrapper?.appendChild(s);let a=o.map(h=>this.createHTMLVisualizer(h)),c=document.createElement("div");c.className=`data data-${e}`,a.forEach(h=>{c.appendChild(h)}),this.wrapper?.appendChild(c),this.wrapper.scrollTop=this.wrapper?.scrollHeight}checkType(e){return e===null?"null":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e}createHTMLVisualizer(e){let o=document.createElement("div"),r=(t,n=0)=>{let i=document.createElement("div");return i.style.marginLeft=`${n*10}px`,n>10?h(t):Array.isArray(t)?i.appendChild(s("Array",t,n,"[","]")):t&&typeof t=="object"?i.appendChild(s("Object",t,n,"{","}")):i.appendChild(h(t)),i},s=(t,n,i,f,b)=>{let m=document.createElement("div"),p=document.createElement("span"),d=document.createElement("div"),u=document.createElement("span");u.textContent="\u25B6",p.textContent=` ${f}${a(n)}${b}`,p.style.cursor="pointer",u.style.cursor="pointer",u.addEventListener("click",()=>{let l=d.style.display==="none";d.style.display=l?"block":"none",u.textContent=l?"\u25BC":"\u25B6",p.textContent=l?` ${f}`:` ${f}${a(n)}${b}`}),p.addEventListener("click",()=>{let l=d.style.display==="none";d.style.display=l?"block":"none",u.textContent=l?"\u25BC":"\u25B6",p.textContent=l?` ${f}`:` ${f}${a(n)}${b}`}),d.style.display="none",d.style.marginLeft="20px";for(let l in n){let g=document.createElement("div");g.style.marginLeft=`${i*10}px`;let $=document.createElement("span");$.style.color="orange",$.textContent=`${l}: `;let A=r(n[l],i++);g.appendChild($),g.appendChild(A),d.appendChild(g)}let w=document.createElement("span");return w.textContent=` ${b}`,w.style.color="lightblue",m.appendChild(u),m.appendChild(p),m.appendChild(d),m.appendChild(w),m},a=t=>{let n="";return Array.isArray(t)?n=t.map(i=>c(i)).join(", "):typeof t=="object"&&(n=Object.keys(t).map(i=>`${i}: ${c(t[i])}`).join(", ")),n.length>30&&(n=n.slice(0,30)+"..."),n},c=t=>{if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return t;if(typeof t=="boolean")return t;if(t===null)return"null";if(typeof t>"u")return"undefined";if(typeof t=="bigint")return`${t}n`;if(typeof t=="function")return"[Function]";if(Array.isArray(t))return"[Array]";if(typeof t=="object")return"[Object]"},h=t=>{let n=document.createElement("span");return typeof t=="string"?(n.style.color="lightgreen",n.textContent=`"${t}"`):typeof t=="number"?(n.style.color="lightcoral",n.textContent=t):typeof t=="boolean"?(n.style.color="lightyellow",n.textContent=t):t===null?(n.style.color="gray",n.textContent="null"):typeof t>"u"?(n.style.color="gray",n.textContent="undefined"):typeof t=="bigint"?(n.style.color="lightcoral",n.textContent=`${t}n`):typeof t=="function"&&(n.style.color="violet",n.textContent="[Function]"),n};return o.appendChild(r(e)),o}},j=y;window.VisibleConsole=y;customElements.define("visible-console",y);})();
//# sourceMappingURL=visible-console.iife.min.js.map
