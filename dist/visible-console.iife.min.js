(()=>{var x=class C extends HTMLElement{static baseVersion="2025-09-20";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}config(e){return e&&(this.opts=C.deepAssign(this.opts,e)),this.opts}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}static deepAssign(e,...t){for(let r of t)for(let s in r){let a=r[s],i=e[s];if(Object(a)==a&&Object(i)===i){e[s]=C.deepAssign(i,a);continue}e[s]=r[s]}return e}async doInheritStyles(){if(!this.shadowRoot||!this.hasAttribute("inherit-style"))return;let e=this.getAttribute("inherit-style");e||(e="./index.css");let t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.shadowRoot.appendChild(t),console.info(`[${this.localName}] Inherit-style requested. Loading: "${e}"`)}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}hasSlotContent(){return this.shadowRoot.querySelector("slot").assignedNodes().some(r=>r.nodeType===Node.ELEMENT_NODE?!0:r.nodeType===Node.TEXT_NODE?r.textContent.trim().length>0:!1)}prependStylesheet(e,t=0){if(!e)throw new Error(`[${this.localName}] cssText must be provided`);let r=this._findExistingStylesheet();if(r)return r;let s=document.createElement("style");return s.textContent=e,s.setAttribute("data-component",this.localName),s.setAttribute("data-order",t.toString()),this._prependToDocumentHead(s,t),s}uibSend(e,t){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${e}`,payload:t,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,e,t))}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_construct(e,t){e&&(t||(t={mode:"open",delegatesFocus:!0}),this.attachShadow(t).append(e),this.createShadowSelectors())}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_event(e,t){this.dispatchEvent(new CustomEvent(`${this.localName}:${e}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:t}}))}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}_uibMsgHandler(e){if(typeof e.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,e);return}Object.keys(e.payload).forEach(t=>{if(t.startsWith("_"))return;let r=t.toLowerCase();switch(r.startsWith("data-")&&(r="data"),r){case"value":{this.setAttribute("value",e.payload[t]);break}case"class":{this.className=e.payload[t];break}case"style":{this.style.cssText=e.payload[t];break}case"data":{this.dataset[t.replace("data-","")]=e.payload[t];break}default:{this[t]=e.payload[t];break}}})}_findExistingStylesheet(){return document.head.querySelector(`style[data-component="${this.localName}"]`)}_prependToDocumentHead(e,t){let r=document.head,s=Array.from(r.querySelectorAll("style[data-component]"));if(s.length===0){let i=r.firstChild;i?r.insertBefore(e,i):r.appendChild(e);return}let a=null;for(let i of s){let l=parseInt(i.getAttribute("data-order")??"0",10);if(t<l){a=i;break}}if(a)r.insertBefore(e,a);else{let l=s[s.length-1].nextSibling;l?r.insertBefore(e,l):r.appendChild(e)}}},E=x;var k=document.createElement("template");k.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }

        .wrapper {
            display: grid;
            grid-template-columns: minmax(6ch, 1fr) minmax(75%, 5fr);
            column-gap: 1rem;
            row-gap: .3rem;
            align-content: start;

            height: 22em;
            overflow: auto;
            resize: vertical;

            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            font-size: smaller;
            /* white-space: pre; */
            background-color:black;
            border: 1px solid silver;
        }

        .meta {
            /* grid-area: meta; */
            border-right: 1px solid silver;
            font-size: larger;
            /* background-color:black; */
            /* white-space: pre; */
        }
        
        .data {
            /* grid-area: content; */
            /* color:white; */
            /* display:block; */
            /* background-color:black; */
            /* padding:5px 10px; */
            /* font-family: Consolas, "ui-monospace", "Lucida Console", monospace; */
            /* font-size: smaller; */
            /* white-space: pre; */
            /* width: 99%; */
            /* height: 22em; */
            /* overflow: auto; */
            /* resize: both; */
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}

        .log {color: hsl(120 100 77);}
        .info {color: hsl(212 100 77);}
        .warn {color: orange;}
        .error {color: red;}
        .data-info {background-color: hsl(192 100 42 /0.3);}
        .data-warn {background-color: hsl(39 100 42 /0.3);}
        .data-error {background-color: hsl(0 100 42 /0.3);}

    </style>
    <div class="wrapper"></div>
`;var y=class extends E{static componentVersion="2025-02-25";static get observedAttributes(){return["inherit-style","name"]}nativeConsole={...console};opts={};colors={log:"green",error:"red",warn:"orange"};bgColors={info:"hsl(92, 100, 50, 0.3)",warn:"hsl(39, 100, 50, 0.3)",error:"hsl(0, 100, 50, 0.3)"};icons={log:"> ",info:"\u2139\uFE0F ",debug:"\u{1FAB2} ",trace:"\u{1F453} ",warn:"\u26A0\uFE0F ",error:"\u26D4 "};constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(k.content.cloneNode(!0)),this.createShadowSelectors(),this.wrapper=this.shadowRoot.querySelector(".wrapper")}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.redirectConsole(),this._event("connected"),this._event("ready")}disconnectedCallback(){this._event("disconnected")}attributeChangedCallback(e,t,r){t!==r&&(this[e]=r,this._event("attribChanged",{attribute:e,newVal:r,oldVal:t}))}redirectConsole(){Object.keys(this.icons).forEach(e=>{console[e]=(...t)=>{this.nativeConsole[e].apply(console[e],t),this.newLog(e,t)}})}newLog(e,t){let r=this.icons?.[e]||"",s=document.createElement("div");s.className=`meta ${e}`,s.innerHTML=`${r} ${e}`,this.wrapper?.appendChild(s);let a=t.map(l=>this.createHTMLVisualizer(l)),i=document.createElement("div");i.className=`data data-${e}`,a.forEach(l=>{i.appendChild(l)}),this.wrapper?.appendChild(i),this.wrapper.scrollTop=this.wrapper?.scrollHeight}checkType(e){return e===null?"null":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e}createHTMLVisualizer(e){let t=document.createElement("div"),r=(n,o=0)=>{let c=document.createElement("div");return c.style.marginLeft=`${o*10}px`,o>10?l(n):Array.isArray(n)?c.appendChild(s("Array",n,o,"[","]")):n&&typeof n=="object"?c.appendChild(s("Object",n,o,"{","}")):c.appendChild(l(n)),c},s=(n,o,c,f,b)=>{let m=document.createElement("div"),p=document.createElement("span"),h=document.createElement("div"),u=document.createElement("span");u.textContent="\u25B6",p.textContent=` ${f}${a(o)}${b}`,p.style.cursor="pointer",u.style.cursor="pointer",u.addEventListener("click",()=>{let d=h.style.display==="none";h.style.display=d?"block":"none",u.textContent=d?"\u25BC":"\u25B6",p.textContent=d?` ${f}`:` ${f}${a(o)}${b}`}),p.addEventListener("click",()=>{let d=h.style.display==="none";h.style.display=d?"block":"none",u.textContent=d?"\u25BC":"\u25B6",p.textContent=d?` ${f}`:` ${f}${a(o)}${b}`}),h.style.display="none",h.style.marginLeft="20px";for(let d in o){let g=document.createElement("div");g.style.marginLeft=`${c*10}px`;let $=document.createElement("span");$.style.color="orange",$.textContent=`${d}: `;let S=r(o[d],c++);g.appendChild($),g.appendChild(S),h.appendChild(g)}let w=document.createElement("span");return w.textContent=` ${b}`,w.style.color="lightblue",m.appendChild(u),m.appendChild(p),m.appendChild(h),m.appendChild(w),m},a=n=>{let o="";return Array.isArray(n)?o=n.map(c=>i(c)).join(", "):typeof n=="object"&&(o=Object.keys(n).map(c=>`${c}: ${i(n[c])}`).join(", ")),o.length>30&&(o=o.slice(0,30)+"..."),o},i=n=>{if(typeof n=="string")return`"${n}"`;if(typeof n=="number")return n;if(typeof n=="boolean")return n;if(n===null)return"null";if(typeof n>"u")return"undefined";if(typeof n=="bigint")return`${n}n`;if(typeof n=="function")return"[Function]";if(Array.isArray(n))return"[Array]";if(typeof n=="object")return"[Object]"},l=n=>{let o=document.createElement("span");return typeof n=="string"?(o.style.color="lightgreen",o.textContent=`"${n}"`):typeof n=="number"?(o.style.color="lightcoral",o.textContent=n):typeof n=="boolean"?(o.style.color="lightyellow",o.textContent=n):n===null?(o.style.color="gray",o.textContent="null"):typeof n>"u"?(o.style.color="gray",o.textContent="undefined"):typeof n=="bigint"?(o.style.color="lightcoral",o.textContent=`${n}n`):typeof n=="function"&&(o.style.color="violet",o.textContent="[Function]"),o};return t.appendChild(r(e)),t}},_=y;window.VisibleConsole=y;customElements.define("visible-console",y);})();
//# sourceMappingURL=visible-console.iife.min.js.map
