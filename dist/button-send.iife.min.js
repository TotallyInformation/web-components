(()=>{var l=class c extends HTMLElement{static baseVersion="2025-06-03";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}config(t){return t&&(this.opts=c.deepAssign(this.opts,t)),this.opts}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}static deepAssign(t,...e){for(let i of e)for(let s in i){let o=i[s],n=t[s];if(Object(o)==o&&Object(n)===n){t[s]=c.deepAssign(n,o);continue}t[s]=i[s]}return t}async doInheritStyles(){if(!this.shadowRoot||!this.hasAttribute("inherit-style"))return;let t=this.getAttribute("inherit-style");t||(t="./index.css");let e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.shadowRoot.appendChild(e),console.info(`[${this.localName}] Inherit-style requested. Loading: "${t}"`)}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}prependStylesheet(t,e=0){if(!t)throw new Error(`[${this.localName}] cssText must be provided`);let i=this._findExistingStylesheet();if(i)return i;let s=document.createElement("style");return s.textContent=t,s.setAttribute("data-component",this.localName),s.setAttribute("data-order",e.toString()),this._prependToDocumentHead(s,e),s}uibSend(t,e){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${t}`,payload:e,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,t,e))}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_construct(t,e){t&&(e||(e={mode:"open",delegatesFocus:!0}),this.attachShadow(e).append(t),this.createShadowSelectors())}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_event(t,e){this.dispatchEvent(new CustomEvent(`${this.localName}:${t}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:e}}))}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}_uibMsgHandler(t){if(typeof t.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,t);return}Object.keys(t.payload).forEach(e=>{e.startsWith("_")||(this[e]=t.payload[e])})}_findExistingStylesheet(){return document.head.querySelector(`style[data-component="${this.localName}"]`)}_prependToDocumentHead(t,e){let i=document.head,s=Array.from(i.querySelectorAll("style[data-component]"));if(s.length===0){let n=i.firstChild;n?i.insertBefore(t,n):i.appendChild(t);return}let o=null;for(let n of s){let r=parseInt(n.getAttribute("data-order")??"0",10);if(e<r){o=n;break}}if(o)i.insertBefore(t,o);else{let r=s[s.length-1].nextSibling;r?i.insertBefore(t,r):i.appendChild(t)}}},u=l;var h=document.createElement("template");h.innerHTML=`
    <style>
        button, input[type="button" i] {
            margin-top: .5em;
            margin-bottom: .5em;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            padding: .5rem 1rem;
            text-decoration: none;
            background-color: var(--info);
            color: var(--text2);
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.4;
            cursor: pointer;
            text-align: center;
            transition: background 250ms ease-in-out, transform 150ms ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            border-radius: 8px;
            /* box-shadow: 0 3px 5px rgb(var(--uib-color-fg), 0.5); */
            box-shadow: inset 2px 2px 3px rgba(255,255,255, .3),
                        inset -2px -2px 3px rgba(0,0,0, .3);
        }
        button:hover, input[type="button" i]:hover {
            background-color: rgb(var(--uib-color-info), .5);
        }
        
        button:focus, input[type="button" i]:focus {
            outline: 1px solid rgb(var(--uib-color-fg));
            outline-offset: -4px;
        }
        
        button:active, input[type="button" i]:active {
            transform: scale(0.97);
        }
    </style>
    <button type="button">
        <span><slot></slot></span>
    </button>
`;var d=class extends u{static componentVersion="2025-02-25";sendEvents=!0;topic;payload;_ui={type:"button-send",event:void 0,id:void 0,name:void 0};_msg={};static get observedAttributes(){return["inherit-style","name","topic","payload"]}constructor(){super(),this._construct(h.content.cloneNode(!0))}connectedCallback(){this._connect(),this.addEventListener("click",this.handleClick),this._ready()}disconnectedCallback(){this.removeEventListener("click",this.handleClick),this._disconnect()}attributeChangedCallback(t,e,i){e!==i&&(this[t]=i,this._event("attribChanged",{attribute:t,newVal:i,oldVal:e}))}_setMsg(t){this._msg={};let e={...this.dataset};this._msg.topic=this.topic||`${this.localName}:${t}`,this._msg.payload=this.payload?this.payload:e,this._msg._ui={...this._ui},t&&(this._msg._ui.event=t),this._msg._ui.id=this._msg.id=this.id,this.name&&(this._msg._ui.name=this._msg.name=this.name)}handleClick(t){t.preventDefault(),this._setMsg("click");let e=this._msg._ui,i=t.currentTarget,s={},o=["name","sendEvents","payload","$","$$","uibuilder","_ui","_msg"];Object.keys(i).forEach(a=>{o.includes(a)||(s[a]=i[a])});let n=["class","id","name"],r=Object.assign({},...Array.from(i.attributes,({name:a,value:p})=>{if(!n.includes(a))return{[a]:p}}));e.slotText=i.textContent!==""?i.textContent?.substring(0,255):void 0,e.props=s,e.attribs=r,e.dataset={...i.dataset},e.classes=Array.from(i.classList),e.altKey=t.altKey,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,e.pointerType=t.pointerType,e.nodeName=i.nodeName,this.uib&&(e.clientId=this.uibuilder.clientId,e.pageName=this.uibuilder.pageName,e.tabId=this.uibuilder.tabId),document.dispatchEvent(new CustomEvent(`${this.localName}:click`,{bubbles:!0,composed:!0,detail:this._msg})),this.uib&&this.uibuilder.send(this._msg)}},f=d;window.ButtonSend=d;customElements.define("button-send",d);})();
//# sourceMappingURL=button-send.iife.min.js.map
