(()=>{var c="uib-theme-changer";var r=document.createElement("template");r.innerHTML=`
    <style>
        :host {
            --size: 2rem;
            --w: 4rem;
            /* display: flex; */
            display: inline-block; /* default is inline */
            contain: content; /* performance boost */
            position: sticky;
            top: 0;
            background-color: var(--surface1);
            border: 1px solid var(--text3);
            border-radius: 0.5rem;
            margin: 0.2rem;
            padding: 0.5rem;
            color: var(--text2);
            background-clip: border-box;
            box-sizing: border-box;
            box-shadow: var(--shadow2);
            width: 100%;
        }
        * {
            vertical-align: top;
        }
        div {
            display: inline-block;
        }
        form {
            margin: .2rem 1rem;
            /* flex: 1 0 auto; */
            display: inline-block;
        }
        form > div {
            display: block;
        }
        .s-and-m {
            aspect-ratio: 1;
            background: none;
            color: var(--text3);
            border: none;
            padding: 0;
            inline-size: var(--size);
            block-size: var(--size);
            
            border-radius: 50%;

            cursor: pointer;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            outline-offset: 5px;
        }
        input[type=submit] {
            inline-size: var(--w);
            block-size: var(--size);
            margin-left: 1rem;
        }
        .sun-and-moon {
            inline-size: 100%;
            block-size: 100%;
            stroke-linecap: round;
        }
        .moon, .sun {
            fill: var(--text2);
        }
        .moon:hover, .sun:hover {
            fill: var(--text1);
        }

        /* @media (hover: none) {
            :host {
                --size: 48px;
                --w: 48px;
            }
        } */
    </style>
    <div id="s-and-m" name="color-scheme-toggle" onclick="this.getRootNode().host.evtClickToggle(event)" 
            title="Toggles between light & dark color schemes" 
            aria-label="auto" aria-live="polite">
        <svg class="sun-and-moon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
            <svg name="sun" class="sun" viewbox="0 0 20 20">
                <path
                    fill-rule="evenodd"
                    d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                    clip-rule="evenodd"
                ></path>
            </svg>
            <svg name="moon" class="moon" viewbox="0 0 20 20">
                <path
                    d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                ></path>
            </svg>
            <svg class="divider" width='100%' height='100%' viewBox='0 0 20 20' preserveAspectRatio='none'>
                <line x1="5" y1="5" x2="15" y2="15" vector-effect="non-scaling-stroke" 
                    stroke-width="10%" stroke="currentColor" />
            </svg>
        </svg>
    </div>
    <input type="submit" value="Reset" onclick="this.getRootNode().host.evtClickReset(event)">
    <form>
        <div name="color-scheme-choose" onclick="this.getRootNode().host.evtClickChooser(event)">
            <b>Color scheme:</b>
            <label><input type="radio" name="input-color-scheme-choose" value="auto">&nbsp;auto</label>
            <label><input type="radio" name="input-color-scheme-choose" value="light">&nbsp;light</label>
            <label><input type="radio" name="input-color-scheme-choose" value="dark">&nbsp;dark</label>
        </div>
        
        <div onclick="this.getRootNode().host.evtClickContrast(event)">
            <b>Contrast:</b>
            <label><input type="radio" name="contrast" value="standard">&nbsp;standard</label>
            <label><input type="radio" name="contrast" value="more">&nbsp;more</label>
            <label><input type="radio" name="contrast" value="less">&nbsp;less</label>
        </div>
    
        <div>
            <label><b>Brand Hue angle:</b>
            <input name="brand-hue" type="range" min="0" max="360" step="1" value="200">
            <output>200</output></label>
        </div>

        <div title="30=Split Complementary, 60=Triadic, 150=Complementary">
            <label><b>Accent offset angle</b>
            <input name="accent-offset" type="range" min="0" max="360" step="1" value="30">
            <output>30</output></label>
        </div>
    </form>
`;var o=class a extends HTMLElement{static version="2024-09-21";uib=!!window.uibuilder;$;$$;static _iCount=0;opts={};static get observedAttributes(){return["inherit-style"]}get version(){return a.version}uibThemeSettings={};_ui={type:c,event:void 0,id:void 0,name:void 0,data:void 0};scheme=void 0;constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(r.content.cloneNode(!0)),this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}connectedCallback(){if(this.id||(this.name||(this.name=this.getAttribute("name")),this.name?this.id=this.name.toLowerCase().replace(/\s/g,"_"):this.id=`uib-meta-${++a._iCount}`),this.uib=!!window.uibuilder,this.hasAttribute("inherit-style")){let e=this.getAttribute("inherit-style");this.doInheritStyles(e)}getComputedStyle(this).getPropertyValue("--uib-css").includes("uib-brand")||console.warn("[uib-theme-changer] WARNING: It appears that you are not using uibuilder's uib-brand.css stylesheet. This component may not work as expected.");try{this.uibThemeSettings=JSON.parse(localStorage.getItem("uibThemeSettings"))||this.uibThemeSettings}catch{}this.uibThemeSettings[window.location.pathname]||(this.uibThemeSettings[window.location.pathname]={});let t=document.documentElement;if(this.$("[name=brand-hue]").addEventListener("change",function(e){t.style.setProperty("--brand-hue",e.target.value)}),this.$("[name=brand-hue]").addEventListener("input",function(e){this.nextElementSibling.value=this.value}),this.$("[name=accent-offset]").addEventListener("change",function(e){t.style.setProperty("--accent-offset",e.target.value)}),this.$("[name=accent-offset]").addEventListener("input",function(e){this.nextElementSibling.value=this.value}),t.classList.contains("standard")||t.classList.contains("more")||t.classList.contains("less")){try{delete this.uibThemeSettings[window.location.pathname].contrast,localStorage.setItem("uibThemeSettings",JSON.stringify(this.uibThemeSettings))}catch{}this.shadowRoot.querySelector(`input[value=${t.classList[0]}][name=contrast]`).checked=!0}else this.uibThemeSettings[window.location.pathname]&&this.uibThemeSettings[window.location.pathname].contrast?(this.shadowRoot.querySelector(`input[value=${this.uibThemeSettings[window.location.pathname].contrast}][name=contrast]`).checked=!0,this.evtClickContrast({target:{name:"contrast",value:this.uibThemeSettings[window.location.pathname].contrast}})):this.shadowRoot.querySelector("input[value=standard][name=contrast]").checked=!0;if(t.classList.contains("light")||t.classList.contains("dark")||t.classList.contains("auto")){try{delete this.uibThemeSettings[window.location.pathname].theme,localStorage.setItem("uibThemeSettings",JSON.stringify(this.uibThemeSettings))}catch{}this.shadowRoot.querySelector(`input[value=${t.classList[0]}][name=input-color-scheme-choose]`).checked=!0}else this.uibThemeSettings[window.location.pathname]&&this.uibThemeSettings[window.location.pathname].theme?(this.shadowRoot.querySelector(`input[value=${this.uibThemeSettings[window.location.pathname].theme}][name=input-color-scheme-choose]`).checked=!0,this.setTheme(this.uibThemeSettings[window.location.pathname].theme)):this.shadowRoot.querySelector("input[value=auto][name=input-color-scheme-choose]").checked=!0;this.uib&&document.addEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler.bind(this)),this.dispatchEvent(new CustomEvent("uib-theme-changer:connected",{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}disconnectedCallback(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this.dispatchEvent(new CustomEvent("uib-theme-changer:disconnected",{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s,document.dispatchEvent(new CustomEvent("uib-theme-changer:attribChanged",{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,attribute:t,newVal:s,oldVal:e}})))}async doInheritStyles(t){t||(t="./index.css");let e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.shadowRoot.appendChild(e),console.info(`[state-timeline] Inherit style requested. Loading: "${t}"`)}config(t){return t&&(this.opts=a.deepAssign(this.opts,t)),this.opts}static deepAssign(t,...e){for(let s of e)for(let i in s){let n=s[i],l=t[i];if(Object(n)==n&&Object(l)===l){t[i]=a.deepAssign(l,n);continue}t[i]=s[i]}return t}_uibMsgHandler(t){}setTheme(t){let e=this.shadowRoot.querySelector.bind(this.shadowRoot),s=document.documentElement;switch(t){case"dark":{this.scheme="dark",s.classList.remove("light"),s.classList.add("dark"),e(".sun").style.opacity=0,e(".moon").style.opacity=1,e(".divider").style.opacity=0;break}case"light":{this.scheme="light",s.classList.remove("dark"),s.classList.add("light"),e(".sun").style.opacity=1,e(".moon").style.opacity=0,e(".divider").style.opacity=0;break}case"auto":{this.scheme="auto",s.classList.remove("light"),s.classList.remove("dark"),e(".sun").style.opacity=1,e(".moon").style.opacity=1,e(".divider").style.opacity=1;break}case"none":default:{this.scheme=void 0,s.classList.remove("light"),s.classList.remove("dark"),s.classList.remove("auto"),e(".sun").style.opacity=1,e(".moon").style.opacity=1,e(".divider").style.opacity=1;break}}return t}evtClickToggle(t){console.log("icon click: ",t.target.tagName)}evtClickChooser(t){if(t.target.name==="input-color-scheme-choose"){try{this.uibThemeSettings[window.location.pathname].theme=t.target.value,localStorage.setItem("uibThemeSettings",JSON.stringify(this.uibThemeSettings))}catch{}this.setTheme(t.target.value)}}evtClickReset(t){this.setTheme("none");let e=this.shadowRoot.querySelectorAll("input[name=input-color-scheme-choose]");for(let i=0;i<e.length;i++)e[i].checked=!1;this.evtClickContrast({target:{name:"contrast",value:"standard"}});let s=this.shadowRoot.querySelectorAll("input[name=contrast]");for(let i=0;i<s.length;i++)s[i].checked=!1;delete this.uibThemeSettings[window.location.pathname],localStorage.setItem("uibThemeSettings",JSON.stringify(this.uibThemeSettings))}evtClickContrast(t){if(t.target.name!=="contrast")return;let e=document.documentElement;t.target.value==="more"?(e.style.setProperty("--text-bias","1"),e.style.setProperty("--surfaces-bias","1"),e.style.setProperty("--saturation-bias","1"),e.classList.remove("standard"),e.classList.remove("less"),e.classList.add("more")):t.target.value==="less"?(e.style.setProperty("--text-bias","-.1"),e.style.setProperty("--surfaces-bias","-.05"),e.style.setProperty("--saturation-bias","-.05"),e.classList.remove("standard"),e.classList.remove("more"),e.classList.add("less")):(e.style.removeProperty("--text-bias"),e.style.removeProperty("--surfaces-bias"),e.style.removeProperty("--saturation-bias"),e.classList.remove("standard"),e.classList.remove("more"),e.classList.remove("less"));try{this.uibThemeSettings[window.location.pathname].contrast=t.target.value,localStorage.setItem("uibThemeSettings",JSON.stringify(this.uibThemeSettings))}catch{}}},h=o;window.UibThemeChanger=o;customElements.define("uib-theme-changer",o);})();
//# sourceMappingURL=uib-theme-changer.iife.min.js.map
