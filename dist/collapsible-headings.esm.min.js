var a=class r extends HTMLElement{static baseVersion="2024-09-22";uib=!!window.uibuilder;$;$$;static _iCount=0;opts={};get version(){return`${this.constructor.version} (Base: ${this.constructor.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.hasAttribute("inherit-style"))return;let t=this.getAttribute("inherit-style");t||(t="./index.css");let e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.shadowRoot.appendChild(e),console.info(`[${this.localName}] Inherit-style requested. Loading: "${t}"`)}config(t){return t&&(this.opts=r.deepAssign(this.opts,t)),this.opts}static deepAssign(t,...e){for(let i of e)for(let s in i){let o=i[s],n=t[s];if(Object(o)==o&&Object(n)===n){t[s]=r.deepAssign(n,o);continue}t[s]=i[s]}return t}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(t){}},d=a;var c=document.createElement("template");c.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }
    </style>
    <slot></slot>
`;var l=class extends d{static version="2024-09-24";levels="h2, h3, h4, h5";static get observedAttributes(){return["inherit-style","levels"]}constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(c.content.cloneNode(!0)),this.createShadowSelectors()}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.uib&&document.addEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler.bind(this)),this.shadowSlot=this.shadowRoot.querySelector("slot"),this.observer=new MutationObserver(this.processSlotContent.bind(this)),this.observer.observe(this,{childList:!0,subtree:!0}),this.processSlotContent(),this.dispatchEvent(new CustomEvent(`${this.localName}:connected`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}disconnectedCallback(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this.observer.disconnect(),this.dispatchEvent(new CustomEvent(`${this.localName}:disconnected`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name}}))}attributeChangedCallback(t,e,i){e!==i&&(this[t]=i,this.dispatchEvent(new CustomEvent(`${this.localName}:attribChanged`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,attribute:t,newVal:i,oldVal:e}})))}processSlotContent(){this.shadowSlot.assignedNodes({flatten:!0}).forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&this.processElement(e)})}processElement(t){if(!t.matches(this.levels)||t.dataset.collapsibleProcessed)return;let e=parseInt(t.tagName[1]),i=[],s=t.nextElementSibling;for(;s&&!(s.matches(this.levels)&&parseInt(s.tagName[1])<=e);)i.push(s),s=s.nextElementSibling;let o=document.createElement("div");o.classList.add("collapsible-content"),o.dataset.level=e,i.forEach(n=>o.appendChild(n)),t.insertAdjacentElement("afterend",o),t.style.cursor="pointer",t.addEventListener("click",function(){let n=o.style.display==="none";o.style.display=n?"block":"none"}),t.dataset.collapsibleProcessed="true"}},b=l;window.CollapsibleHeadings=l;customElements.define("collapsible-headings",l);export{b as default};
//# sourceMappingURL=collapsible-headings.esm.min.js.map
