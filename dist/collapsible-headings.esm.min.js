var l=class d extends HTMLElement{static baseVersion="2025-01-09";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.hasAttribute("inherit-style"))return;let e=this.getAttribute("inherit-style");e||(e="./index.css");let t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.shadowRoot.appendChild(t),console.info(`[${this.localName}] Inherit-style requested. Loading: "${e}"`)}config(e){return e&&(this.opts=d.deepAssign(this.opts,e)),this.opts}static deepAssign(e,...t){for(let i of t)for(let s in i){let n=i[s],o=e[s];if(Object(n)==n&&Object(o)===o){e[s]=d.deepAssign(o,n);continue}e[s]=i[s]}return e}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(e){}_event(e,t){this.dispatchEvent(new CustomEvent(`${this.localName}:${e}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:t}}))}_construct(e,t){t||(t={mode:"open",delegatesFocus:!0}),this.attachShadow(t).append(e),this.createShadowSelectors()}_connect(){this.ensureId(),this.doInheritStyles()}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}},c=l;var a=document.createElement("template");a.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }
    </style>
    <slot></slot>
`;var r=class extends c{static componentVersion="2024-10-06";levels="h2, h3, h4, h5";static get observedAttributes(){return["inherit-style","name","levels"]}constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(a.content.cloneNode(!0)),this.createShadowSelectors()}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.uib&&document.addEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler.bind(this)),this.shadowSlot=this.shadowRoot.querySelector("slot"),this.observer=new MutationObserver(this.processSlotContent.bind(this)),this.observer.observe(this,{childList:!0,subtree:!0}),this.processSlotContent(),this._event("connected"),this._event("ready")}disconnectedCallback(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this.observer.disconnect(),this._event("disconnected")}attributeChangedCallback(e,t,i){t!==i&&(this[e]=i,this._event("attribChanged",{attribute:e,newVal:i,oldVal:t}))}processSlotContent(){this.shadowSlot.assignedNodes({flatten:!0}).forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&this.processElement(t)})}processElement(e){if(!e.matches(this.levels)||e.dataset.collapsibleProcessed)return;let t=parseInt(e.tagName[1]),i=[],s=e.nextElementSibling;for(;s&&!(s.matches(this.levels)&&parseInt(s.tagName[1])<=t);)i.push(s),s=s.nextElementSibling;let n=document.createElement("div");n.classList.add("collapsible-content"),n.dataset.level=t,i.forEach(o=>n.appendChild(o)),e.insertAdjacentElement("afterend",n),e.style.cursor="pointer",e.addEventListener("click",function(){let o=n.style.display==="none";n.style.display=o?"block":"none"}),e.dataset.collapsibleProcessed="true"}},b=r;window.CollapsibleHeadings=r;customElements.define("collapsible-headings",r);export{b as default};
//# sourceMappingURL=collapsible-headings.esm.min.js.map
