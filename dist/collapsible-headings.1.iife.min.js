(()=>{var a=class c extends HTMLElement{static baseVersion="2025-05-30";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}async doInheritStyles(){if(!this.shadowRoot||!this.hasAttribute("inherit-style"))return;let t=this.getAttribute("inherit-style");t||(t="./index.css");let e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.shadowRoot.appendChild(e),console.info(`[${this.localName}] Inherit-style requested. Loading: "${t}"`)}config(t){return t&&(this.opts=c.deepAssign(this.opts,t)),this.opts}static deepAssign(t,...e){for(let s of e)for(let i in s){let n=s[i],o=t[i];if(Object(n)==n&&Object(o)===o){t[i]=c.deepAssign(o,n);continue}t[i]=s[i]}return t}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}_uibMsgHandler(t){if(typeof t.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,t);return}Object.keys(t.payload).forEach(e=>{e.startsWith("_")||(this[e]=t.payload[e])})}_event(t,e){this.dispatchEvent(new CustomEvent(`${this.localName}:${t}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:e}}))}uibSend(t,e){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${t}`,payload:e,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,t,e))}_construct(t,e){t&&(e||(e={mode:"open",delegatesFocus:!0}),this.attachShadow(e).append(t),this.createShadowSelectors())}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}},d=a;var l=document.createElement("template");l.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
        }
    </style>
    <slot></slot>
`;var r=class extends d{static componentVersion="2025-02-25";levels="h2, h3, h4, h5";static get observedAttributes(){return["inherit-style","name","levels"]}constructor(){super(),l&&l.content&&this._construct(l.content.cloneNode(!0))}connectedCallback(){this._connect(),this.shadowSlot=this.shadowRoot.querySelector("slot"),this.observer=new MutationObserver(t=>{this.processSlotContent(t)}),this.observer.observe(this,{childList:!0,subtree:!0}),this.processSlotContent(),this._ready()}disconnectedCallback(){this.observer.disconnect(),this._disconnect()}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s,this._event("attribChanged",{attribute:t,newVal:s,oldVal:e}))}processSlotContent(t){this.shadowSlot.assignedNodes({flatten:!0}).forEach(s=>{s.nodeType===Node.ELEMENT_NODE&&this.processElement(s)})}processElement(t){if(!t.matches(this.levels)||t.dataset.collapsibleProcessed)return;let e=parseInt(t.tagName[1]),s=[],i=t.nextElementSibling;for(;i&&!(i.matches(this.levels)&&parseInt(i.tagName[1])<=e);)s.push(i),i=i.nextElementSibling;let n=document.createElement("div");n.classList.add("collapsible-content"),n.dataset.level=e,s.forEach(o=>n.appendChild(o)),t.insertAdjacentElement("afterend",n),t.style.cursor="pointer",t.addEventListener("click",function(){let o=n.style.display==="none";n.style.display=o?"block":"none"}),t.dataset.collapsibleProcessed="true"}},b=r;window.CollapsibleHeadings=r;customElements.define("collapsible-headings",r);})();
//# sourceMappingURL=collapsible-headings.1.iife.min.js.map
