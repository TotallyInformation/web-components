(()=>{var l=class d extends HTMLElement{static baseVersion="2025-09-20";static _iCount=0;uib=!!window.uibuilder;uibuilder=window.uibuilder;$;$$;connected=!1;name;opts={};static get version(){return`${this.componentVersion} (Base: ${this.baseVersion})`}constructor(){super()}config(e){return e&&(this.opts=d.deepAssign(this.opts,e)),this.opts}createShadowSelectors(){this.$=this.shadowRoot?.querySelector.bind(this.shadowRoot),this.$$=this.shadowRoot?.querySelectorAll.bind(this.shadowRoot)}static deepAssign(e,...t){for(let i of t)for(let s in i){let o=i[s],n=e[s];if(Object(o)==o&&Object(n)===n){e[s]=d.deepAssign(n,o);continue}e[s]=i[s]}return e}async doInheritStyles(){if(!this.shadowRoot||!this.hasAttribute("inherit-style"))return;let e=this.getAttribute("inherit-style");e||(e="./index.css");let t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.shadowRoot.appendChild(t),console.info(`[${this.localName}] Inherit-style requested. Loading: "${e}"`)}ensureId(){this.uib=!!window.uibuilder,this.id||(this.id=`${this.localName}-${++this.constructor._iCount}`)}hasSlotContent(){return this.shadowRoot.querySelector("slot").assignedNodes().some(i=>i.nodeType===Node.ELEMENT_NODE?!0:i.nodeType===Node.TEXT_NODE?i.textContent.trim().length>0:!1)}prependStylesheet(e,t=0){if(!e)throw new Error(`[${this.localName}] cssText must be provided`);let i=this._findExistingStylesheet();if(i)return i;let s=document.createElement("style");return s.textContent=e,s.setAttribute("data-component",this.localName),s.setAttribute("data-order",t.toString()),this._prependToDocumentHead(s,t),s}uibSend(e,t){this.uib&&(this.uibuilder.ioConnected?this.uibuilder.send({topic:`${this.localName}:${e}`,payload:t,id:this.id,name:this.name}):console.warn(`[${this.localName}] uibuilder not connected to server, cannot send:`,e,t))}_connect(){this.ensureId(),this.doInheritStyles(),this.uib&&this.uibuilder.onTopic(`${this.localName}::${this.id}`,this._uibMsgHandler.bind(this))}_construct(e,t){e&&(t||(t={mode:"open",delegatesFocus:!0}),this.attachShadow(t).append(e),this.createShadowSelectors())}_disconnect(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}_event(e,t){this.dispatchEvent(new CustomEvent(`${this.localName}:${e}`,{bubbles:!0,composed:!0,detail:{id:this.id,name:this.name,data:t}}))}_ready(){this.connected=!0,this._event("connected"),this._event("ready")}_uibMsgHandler(e){if(typeof e.payload!="object"){console.warn(`[${this.localName}] Ignoring msg, payload is not an object:`,e);return}Object.keys(e.payload).forEach(t=>{if(t.startsWith("_"))return;let i=t.toLowerCase();switch(i.startsWith("data-")&&(i="data"),i){case"value":{this.setAttribute("value",e.payload[t]);break}case"class":{this.className=e.payload[t];break}case"style":{this.style.cssText=e.payload[t];break}case"data":{this.dataset[t.replace("data-","")]=e.payload[t];break}default:{this[t]=e.payload[t];break}}})}_findExistingStylesheet(){return document.head.querySelector(`style[data-component="${this.localName}"]`)}_prependToDocumentHead(e,t){let i=document.head,s=Array.from(i.querySelectorAll("style[data-component]"));if(s.length===0){let n=i.firstChild;n?i.insertBefore(e,n):i.appendChild(e);return}let o=null;for(let n of s){let a=parseInt(n.getAttribute("data-order")??"0",10);if(t<a){o=n;break}}if(o)i.insertBefore(e,o);else{let a=s[s.length-1].nextSibling;a?i.insertBefore(e,a):i.appendChild(e)}}},c=l;var h=document.createElement("template");h.innerHTML=`
    <style>
        :host {
            display: block;   /* default is inline */
            contain: content; /* performance boost */
            color:white;
            background-color:black;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
        }
        pre {
            font-family: Consolas, "ui-monospace", "Lucida Console", monospace;
            white-space: pre;
            margin: 0;
        }
        .key {color:#ffbf35}
        .string {color:#5dff39;}
        .number {color:#70aeff;}
        .boolean {color:#b993ff;}
        .null {color:#93ffe4;}
        .undefined {color:#ff93c9;}
    </style>
    <slot></slot>
    <pre><i>Waiting for data</i></pre>
`;var r=class extends c{static componentVersion="2025-02-25";jsonData={};static get observedAttributes(){return["inherit-style","name","auto"]}set json(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{console.warn(`[syntax-highlight] Could not parse string "${e}"`)}this.jsonData=e,this.shadowRoot.removeChild(this.shadowRoot.lastElementChild),this.shadowRoot.appendChild(this.constructor.highlight(e))}get json(){return this.jsonData}constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}).append(h.content.cloneNode(!0)),this.createShadowSelectors()}connectedCallback(){this.ensureId(),this.doInheritStyles(),this.uib&&document.addEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler.bind(this)),this._event("connected"),this._event("ready")}disconnectedCallback(){document.removeEventListener(`uibuilder:msg:_ui:update:${this.id}`,this._uibMsgHandler),this._event("disconnected")}attributeChangedCallback(e,t,i){t!==i&&(this[e]=i,this._event("attribChanged",{attribute:e,newVal:i,oldVal:t}))}static highlight(e){e=JSON.stringify(e,void 0,4),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(i){let s="number";return/^"/.test(i)?/:$/.test(i)?s="key":s="string":/true|false/.test(i)?s="boolean":/null/.test(i)&&(s="null"),'<span class="'+s+'">'+i+"</span>"});let t=document.createElement("pre");return t.innerHTML=e,t}},f=r;window.SyntaxHighlight=r;customElements.define("syntax-highlight",r);})();
//# sourceMappingURL=syntax-highlight.iife.min.js.map
