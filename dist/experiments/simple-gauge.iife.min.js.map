{
  "version": 3,
  "sources": ["../../src/experiments/simple-gauge.js"],
  "sourcesContent": ["// @ts-nocheck\n/** A zero dependency web component that will display a \"bar-chart\" style \"LED\" gauge.\n *\n * See ./docs/simple-gauge.md for detailed documentation on installation and use.\n *\n * version: 0.0.1 2024-01-30\n *\n * TODO: Add custom events to allow processing of updates in the browser\n *\n * See https://github.com/runem/web-component-analyzer#-how-to-document-your-components-using-jsdoc on how to document\n *\n * Use `npx web-component-analyzer ./components/ghost-thermometer.js` to create/update the documentation\n *     or paste into https://runem.github.io/web-component-analyzer/\n * Use `npx web-component-analyzer ./components/*.js --format vscode --outFile ./vscode-descriptors/ti-web-components.html-data.json`\n *     to generate/update vscode custom data files. See https://github.com/microsoft/vscode-custom-data/tree/main/samples/webcomponents\n *\n * To Do:\n * -\n */\n/*\n  Copyright (c) 2024 Julian Knight (Totally Information)\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n  http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n*/\n\nexport default class SimpleGauge extends HTMLElement {\n    //#region --- Class Properties ---\n    static componentName = 'simple-gauge'\n    static className = 'SimpleGauge'\n    /** @type {Array<string>} List of all of the html attribs (props) listened to */\n    static observedAttributes = ['min', 'max', 'value', 'mode', 'gx', 'gy']\n    /** Shadow DOM Template (if required) */\n    static template = document.createElement('template')\n    /** */\n    static div = document.createElement('div')\n\n    /** jQuery-like selector for the shadow DOM (set in constructor) */\n    $\n    /** Is UIBUILDER loaded? (only works if this loaded AFTER uib) */\n    uib = !!window['uibuilder']\n\n    dark = 0.4\n    colors = [\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n        'var(--color-g)',\n\n        'var(--color-a)',\n        'var(--color-a)',\n        'var(--color-a)',\n        'var(--color-a)',\n\n        'var(--color-r)',\n        'var(--color-r)',\n        'var(--color-r)'\n    ]\n\n    min = 0\n    max = 100\n    value = 0\n    /** @type {string|\"vertical\"|\"horizontal\"|\"x\"|\"y\"|\"h\"|\"v\"} */\n    mode = 'v'\n    //#endregion --- Class Properties ---\n\n    // Cannot control the normal DOM here, use connectedCallback\n    constructor() {\n        super()\n\n        // Shadow DOM template (if needed)\n        SimpleGauge.template.innerHTML = /** @type {HTMLTemplateElement} */ /*html*/`\n        <style>\n            :host {\n                display: block;   /* default is inline */\n                contain: content; performance boost\n                /* gap:2px; change to a var\n                border: 1px solid silver;\n                --color-r: red;\n                --color-a: #ffcf00;\n                --color-g: #4ed34e; */\n            }\n            .vertical {\n                display: flex;\n                flex-wrap: nowrap;\n                flex-direction: column;\n                gap: .5rem; /* change to a var */\n                border: 1px solid silver;\n                border-radius: var(--border-radius);\n                padding: 0.5rem;\n            }\n            .horizontal {\n                display: flex;\n                flex-wrap: nowrap;\n                flex-direction: row;\n                gap: .5rem; /* change to a var */\n                border: 1px solid silver;\n                border-radius: var(--border-radius);\n                padding: 0.5rem;\n            }\n            .led {\n                background: #ffffff;\n                border-radius: inherit;\n                border: 1px solid silver;\n                box-shadow: inset 0px 0px 20px 0px #00000099, 0px 0px 3px 0px #00000099;\n                filter: brightness(0.4);\n                /* margin: 1rem; */\n                flex: 1 1 auto;\n            }\n            .container {\n                display: flex;\n                flex-wrap: nowrap;\n                flex-direction: column;\n                justify-content: start;\n                align-items: auto;\n                align-content: start;\n            }\n            .item {\n                flex: 0 0 auto;\n                margin: 1em;\n            }\n        </style>\n        <!-- <div v-for=\"(color, index) in colors\" :key=\"index\" class=\"led\" :ref=\"'dot-' + index +'-'+this.id\"></div> -->\n        <div></div>\n        <caption><slot></slot></caption>\n        `\n        this.attachShadow({ mode: 'open', delegatesFocus: true, })\n            .append(SimpleGauge.template.content.cloneNode(true))\n        this.$ = this.shadowRoot.querySelector.bind(this.shadowRoot)\n\n        /** @type {HTMLElement} */\n        this.outer = this.shadowRoot.querySelector('div')\n        this.caption = this.shadowRoot.querySelector('caption')\n        console.log(this.outer)\n\n        // console.log('construct ended')\n    }\n\n    /** NOTE: On initial startup, this is called for each watched attrib set in HTML - BEFORE connectedCallback is called\n     * @param {string} attrib Name of watched attribute that has changed\n     * @param {string} oldVal The previous attribute value\n     * @param {string} newVal The new attribute value\n     */\n    attributeChangedCallback(attrib, oldVal, newVal) {\n        if ( oldVal === newVal ) return\n        console.log('attributeChangedCallback', attrib, oldVal, newVal)\n\n        switch (attrib) {\n            case 'mode': {\n                if (['x', 'h', 'horizontal'].includes(newVal.toLowerCase() )) {\n                    this.mode = 'h'\n                    this.outer.className = 'horizontal'\n                } else {\n                    this.mode = 'v'\n                    this.outer.className = 'vertical'\n                }\n                console.log('mode', this.mode, newVal)\n                break\n            }\n            case 'value': {\n                this[attrib] = newVal\n                this.changeDisplay(newVal)\n                break\n            }\n\n            default: {\n                this[attrib] = newVal\n                break\n            }\n        }\n    } // --- end of attributeChangedCallback --- //\n\n    // Runs when an instance is added to the DOM\n    connectedCallback() {\n        console.log('connected')\n    }\n\n    // Runs when an instance is removed from the DOM\n    // disconnectedCallback() {}\n\n    changeDisplay(value) {\n        value = Number(value)\n        if (isNaN(value)) return\n\n        if (value > this.max) console.warn('Value > max')\n        if (value < this.min) console.warn('Value < min')\n\n        // Remove gauge content\n        this.outer.innerHTML = ''\n\n        console.log('adding', this.min, this.max, value)\n\n        // Add value number of new divs\n        for (let i = this.max; i >= this.min; i--) {\n            const n = SimpleGauge.div.cloneNode()\n            n.setAttribute('class', 'led')\n            n.setAttribute('data-i', i)\n            // n.insertAdjacentHTML('beforeend', '&nbsp;')\n            // this.outer.appendChild(n)\n            this.outer.insertBefore(n, this.caption)\n        }\n    }\n}\n\n// Automatically dd the class as a new Custom Element to the window object\nif (!customElements.get(SimpleGauge.componentName)) customElements.define(SimpleGauge.componentName, SimpleGauge)\n"],
  "mappings": "MAmCA,IAAqBA,EAArB,MAAqBC,UAAoB,WAAY,CAEjD,OAAO,cAAgB,eACvB,OAAO,UAAY,cAEnB,OAAO,mBAAqB,CAAC,MAAO,MAAO,QAAS,OAAQ,KAAM,IAAI,EAEtE,OAAO,SAAW,SAAS,cAAc,UAAU,EAEnD,OAAO,IAAM,SAAS,cAAc,KAAK,EAGzC,EAEA,IAAM,CAAC,CAAC,OAAO,UAEf,KAAO,GACP,OAAS,CACL,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBAEA,iBACA,iBACA,iBACA,iBAEA,iBACA,iBACA,gBACJ,EAEA,IAAM,EACN,IAAM,IACN,MAAQ,EAER,KAAO,IAIP,aAAc,CACV,MAAM,EAGNA,EAAY,SAAS,UAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAuD5E,KAAK,aAAa,CAAE,KAAM,OAAQ,eAAgB,EAAM,CAAC,EACpD,OAAOA,EAAY,SAAS,QAAQ,UAAU,EAAI,CAAC,EACxD,KAAK,EAAI,KAAK,WAAW,cAAc,KAAK,KAAK,UAAU,EAG3D,KAAK,MAAQ,KAAK,WAAW,cAAc,KAAK,EAChD,KAAK,QAAU,KAAK,WAAW,cAAc,SAAS,EACtD,QAAQ,IAAI,KAAK,KAAK,CAG1B,CAOA,yBAAyBC,EAAQC,EAAQC,EAAQ,CAC7C,GAAKD,IAAWC,EAGhB,OAFA,QAAQ,IAAI,2BAA4BF,EAAQC,EAAQC,CAAM,EAEtDF,EAAQ,CACZ,IAAK,OAAQ,CACL,CAAC,IAAK,IAAK,YAAY,EAAE,SAASE,EAAO,YAAY,CAAE,GACvD,KAAK,KAAO,IACZ,KAAK,MAAM,UAAY,eAEvB,KAAK,KAAO,IACZ,KAAK,MAAM,UAAY,YAE3B,QAAQ,IAAI,OAAQ,KAAK,KAAMA,CAAM,EACrC,KACJ,CACA,IAAK,QAAS,CACV,KAAKF,CAAM,EAAIE,EACf,KAAK,cAAcA,CAAM,EACzB,KACJ,CAEA,QAAS,CACL,KAAKF,CAAM,EAAIE,EACf,KACJ,CACJ,CACJ,CAGA,mBAAoB,CAChB,QAAQ,IAAI,WAAW,CAC3B,CAKA,cAAcC,EAAO,CAEjB,GADAA,EAAQ,OAAOA,CAAK,EAChB,OAAMA,CAAK,EAEf,CAAIA,EAAQ,KAAK,KAAK,QAAQ,KAAK,aAAa,EAC5CA,EAAQ,KAAK,KAAK,QAAQ,KAAK,aAAa,EAGhD,KAAK,MAAM,UAAY,GAEvB,QAAQ,IAAI,SAAU,KAAK,IAAK,KAAK,IAAKA,CAAK,EAG/C,QAASC,EAAI,KAAK,IAAKA,GAAK,KAAK,IAAKA,IAAK,CACvC,IAAMC,EAAIN,EAAY,IAAI,UAAU,EACpCM,EAAE,aAAa,QAAS,KAAK,EAC7BA,EAAE,aAAa,SAAUD,CAAC,EAG1B,KAAK,MAAM,aAAaC,EAAG,KAAK,OAAO,CAC3C,EACJ,CACJ,EAGK,eAAe,IAAIP,EAAY,aAAa,GAAG,eAAe,OAAOA,EAAY,cAAeA,CAAW",
  "names": ["SimpleGauge", "_SimpleGauge", "attrib", "oldVal", "newVal", "value", "i", "n"]
}
